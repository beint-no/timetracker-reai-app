<style>
    .entries-card {
        background: var(--wa-color-surface-default);
        border: var(--wa-border-width-s) solid var(--wa-color-purple-80);
        border-radius: var(--wa-border-radius-m);
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
    .entries-container {
        padding: var(--wa-space-m);
        min-width: 640px;
    }
    .entries-grid {
        grid-template-columns: 4rem minmax(16rem, 1.4fr) minmax(12rem, 1fr) minmax(12rem, 1fr) minmax(8rem, 0.6fr) minmax(12rem, 0.8fr);
    }
    .entries-header {
        background: var(--wa-color-purple-95);
        padding: var(--wa-space-s) var(--wa-space-m);
        border-radius: var(--wa-border-radius-s);
        min-width: 640px;
    }
    .entries-header-text {
        font-weight: var(--wa-font-weight-semibold);
        text-transform: uppercase;
        letter-spacing: 0.04em;
        color: var(--wa-color-purple-40);
    }
    .entries-row {
        padding: var(--wa-space-s) var(--wa-space-m);
        border-bottom: var(--wa-border-width-s) solid var(--wa-color-surface-border);
    }
</style>

<wa-card class="entries-card">
<div class="wa-stack wa-gap-s entries-container">
    <div th:if="${!entries.isEmpty()}"
         class="wa-grid wa-gap-s wa-align-items-center entries-grid entries-header">
        <span class="wa-text-s entries-header-text" th:text="#{entries.col.id}"></span>
        <span class="wa-text-s entries-header-text" th:text="#{entries.col.project}"></span>
        <span class="wa-text-s entries-header-text" th:text="#{entries.col.date}"></span>
        <span class="wa-text-s entries-header-text" th:text="#{entries.col.time}"></span>
        <span class="wa-text-s entries-header-text" style="text-align: right;" th:text="#{entries.col.duration}"></span>
        <span class="wa-text-s entries-header-text" style="text-align: right;" th:text="#{entries.col.status}"></span>
    </div>

    <div th:if="${!entries.isEmpty()}" class="wa-stack wa-gap-s" style="min-width: 640px;">
        <div th:each="entry, iterStat : ${entries}"
             class="wa-grid wa-gap-s wa-align-items-center entries-grid entries-row">
            <span class="wa-text-s" style="color: var(--wa-color-neutral-40);">#<span th:text="${iterStat.count}"></span></span>

            <div class="wa-stack wa-gap-2xs">
                <div class="project-name" th:text="${projects[entry.projectId]?.name ?: 'Project #' + entry.projectId}"></div>
            </div>

            <div class="wa-cluster wa-gap-2xs wa-align-items-center">
                <wa-icon name="calendar" style="color: var(--wa-color-neutral-40);"></wa-icon>
                <span class="wa-text-s" style="color: var(--wa-color-neutral-10);" th:text="${#temporals.format(entry.entryDate, 'MMM dd, yyyy')}"></span>
            </div>

            <div class="wa-cluster wa-gap-2xs wa-align-items-center">
                <wa-icon name="clock" style="color: var(--wa-color-neutral-40);"></wa-icon>
                <span class="wa-text-s" style="color: var(--wa-color-neutral-10);" th:text="${#temporals.format(entry.startTime, 'HH:mm')}"></span>
                <span class="wa-text-s" style="color: var(--wa-color-neutral-35); font-weight: var(--wa-font-weight-semibold);">â†’</span>
                <span class="wa-text-s" style="color: var(--wa-color-neutral-10);" th:if="${entry.endTime}" th:text="${#temporals.format(entry.endTime, 'HH:mm')}"></span>
                <span class="wa-text-s" style="color: var(--wa-color-neutral-10);" th:unless="${entry.endTime}" th:text="#{entry.time.now}"></span>
            </div>

            <div style="text-align: right; display: flex; justify-content: flex-end;">
                <div class="duration" style="color: var(--wa-color-neutral-10); background: var(--wa-color-purple-95); border-color: var(--wa-color-purple-80); display: inline-block;" th:text="${entry.totalHours != null ? #numbers.formatDecimal(entry.totalHours, 1, 2) + 'h' : '0.00h'}"></div>
            </div>

            <div style="text-align: right; display: flex; justify-content: flex-end;">
                <wa-badge th:if="${entry.synced}" variant="success" pill size="large">
                    <span th:text="#{entry.status.synced}"></span>
                </wa-badge>
                <wa-badge th:unless="${entry.synced}" variant="warning" pill size="large">
                    <span th:text="#{entry.status.pending}"></span>
                </wa-badge>
            </div>
        </div>
    </div>

    <div th:if="${entries.isEmpty()}" class="wa-stack wa-gap-m wa-align-items-center" style="padding: var(--wa-space-2xl) 0; color: var(--wa-color-neutral-40);">
        <wa-icon name="list" style="font-size: 4rem; color: var(--wa-color-purple-50); opacity: 0.35;"></wa-icon>
        <h3 th:text="#{empty.no.time.entries}"></h3>
        <p th:text="#{empty.start.tracking.all}"></p>
    </div>

    <div th:if="${totalCount > 0}" class="wa-stack wa-gap-m" style="min-width: 640px;">
        <wa-divider></wa-divider>
        <div class="wa-split wa-align-items-center">
            <span class="wa-text-s" style="color: var(--wa-color-neutral-40);"
                  th:text="'Showing ' + ${offset + 1} + ' to ' + ${offset + entries.size()} + ' of ' + ${totalCount} + ' results'"></span>
            <wa-button-group orientation="horizontal">
                <wa-button appearance="outlined"
                          th:disabled="${currentPage == 1}"
                          hx-get="/htmx/entries/all"
                          hx-target="#entries-content-all"
                          hx-swap="innerHTML"
                          th:attr="hx-vals=|{'employeeId': ${employeeId}, 'projectId': ${projectId}, 'limit': ${pageSize}, 'offset': ${(currentPage - 2) * pageSize}}|">
                    <wa-icon name="chevron-left"></wa-icon>
                </wa-button>
                <span th:each="page : ${#numbers.sequence(1, totalPages > 5 ? 5 : totalPages)}">
                    <wa-button th:if="${page == currentPage}"
                              appearance="accent" variant="brand"
                              th:text="${page}"></wa-button>
                    <wa-button th:unless="${page == currentPage}"
                              appearance="outlined"
                              hx-get="/htmx/entries/all"
                              hx-target="#entries-content-all"
                              hx-swap="innerHTML"
                              th:text="${page}"
                              th:attr="hx-vals=|{'employeeId': ${employeeId}, 'projectId': ${projectId}, 'limit': ${pageSize}, 'offset': ${(page - 1) * pageSize}}|"></wa-button>
                </span>
                <wa-button appearance="outlined" disabled th:if="${totalPages > 5}">...</wa-button>
                <wa-button appearance="outlined"
                          th:if="${totalPages > 5}"
                          hx-get="/htmx/entries/all"
                          hx-target="#entries-content-all"
                          hx-swap="innerHTML"
                          th:text="${totalPages}"
                          th:attr="hx-vals=|{'employeeId': ${employeeId}, 'projectId': ${projectId}, 'limit': ${pageSize}, 'offset': ${(totalPages - 1) * pageSize}}|"></wa-button>
                <wa-button appearance="outlined"
                          th:disabled="${currentPage == totalPages}"
                          hx-get="/htmx/entries/all"
                          hx-target="#entries-content-all"
                          hx-swap="innerHTML"
                          th:attr="hx-vals=|{'employeeId': ${employeeId}, 'projectId': ${projectId}, 'limit': ${pageSize}, 'offset': ${currentPage * pageSize}}|">
                    <wa-icon name="chevron-right"></wa-icon>
                </wa-button>
            </wa-button-group>
        </div>
    </div>
</div>
</wa-card>
